<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Dheeraj’s World</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: transparent;
  color: #cfe3ff;
  font-family: Arial, sans-serif;
}

/* ---------- BACKGROUND IMAGE ---------- */
#background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-image: url("./background1.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  z-index: 0;
}


/* ---------- LIGHTNING CANVAS ---------- */
#lightning {
  position: fixed;
  inset: 0;
  z-index: 1;
  pointer-events: none; /* VERY IMPORTANT */
}

/* ---------- WORLD UI ---------- */
#world {
  position: fixed;
  inset: 0;
  z-index: 2;
}

/* ---------- CENTER ---------- */
#center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

#center h1 {
  font-size: 4rem;
  margin-bottom: 0.5rem;
}

/* ---------- LABELS ---------- */
.label {
  position: absolute;
  font-family: "Snap ITC", "Comic Sans MS", cursive;
  font-size: 2rem;
  color: rgba(180,230,255,0.8);
  cursor: pointer;
  transition: all 0.5s ease;
}

.label:hover {
  color: white;
  transform: scale(1.25);
  text-shadow: 0 0 18px rgba(200,240,255,0.7);
}

/* Positions */
#poetry  { top: 27%; left: 18%; }
#science { top: 27%; right: 18%; }
#music   { bottom: 30%; left: 19%; }
#blog    { bottom: 30%; right: 20%; }
#about {
  bottom: 12%;
  left: 50%;
  transform: translateX(-50%);
  font-size: 1.4rem;
  opacity: 0.75;
}

/* ---------- READER ---------- */
#reader {
  position: fixed;
  inset: 0;
  z-index: 3;
  display: none;
}

#reader-content {
  position: absolute;
  top: 26%;
  left: 50%;
  transform: translateX(-50%);
  width: 70%;
  max-height: 65%;
  overflow-y: auto;
  padding: 20px 10px 40px;
  font-size: 1.15rem;
}

.file-link {
  margin: 14px 0;
  cursor: pointer;
  color: #9fbfff;
}
.file-link:hover { color: white; }

pre {
  white-space: pre-wrap;
  line-height: 1.75;
  font-size: 1.15rem;
  color: #bcd6ff;
}

#back, #download {
  position: absolute;
  top: 6%;
  font-size: 0.95rem;
  cursor: pointer;
  opacity: 0.65;
}

#back {
  left: 50%;
  transform: translateX(-50%);
}

#download {
  right: 6%;
  border: 1px solid rgba(200,230,255,0.3);
  padding: 6px 10px;
  border-radius: 6px;
}

#back:hover, #download:hover {
  opacity: 1;
  background: rgba(200,230,255,0.1);
}
</style>
</head>

<body>

<div id="background"></div>
<canvas id="lightning"></canvas>

<div id="world">
  <div id="center">
    <h1>Welcome to Dheeraj’s World</h1>
    <p>Thoughts fire. Signals travel. Meaning emerges.</p>
  </div>

  <div id="poetry"  class="label">Poetry ✎</div>
  <div id="science" class="label">Science ⧉</div>
  <div id="music"   class="label">Music ♫</div>
  <div id="blog"    class="label">Blogs ☰</div>
  <div id="about"   class="label">About Me</div>
</div>

<div id="reader">
  <div id="back">← back</div>
  <div id="download">⬇ Download</div>
  <div id="reader-content"></div>
</div>

<script>
/* ================= LIGHTNING ================= */

const canvas = document.getElementById("lightning");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

class Branch {
  constructor(x, y, angle, length, depth) {
    this.x = x;
    this.y = y;
    this.angle = angle;
    this.length = length;
    this.depth = depth;
  }

  draw() {
    if (this.depth <= 0) return;

    const x2 = this.x + Math.cos(this.angle) * this.length;
    const y2 = this.y + Math.sin(this.angle) * this.length;

    ctx.beginPath();
    ctx.moveTo(this.x, this.y);
    ctx.lineTo(x2, y2);
    ctx.strokeStyle = `rgba(255,255,255,${0.4 + this.depth * 0.08})`;
    ctx.lineWidth = Math.max(0.35, this.depth * 0.15);
    ctx.stroke();

    const branches = Math.floor(Math.random() * 3) + 1;
    for (let i = 0; i < branches; i++) {
      new Branch(
        x2,
        y2,
        this.angle + (Math.random() - 0.5) * Math.PI * 0.8,
        this.length * (0.65 + Math.random() * 0.15),
        this.depth - 1
      ).draw();
    }
  }
}

function lightningStrike() {
  new Branch(
    Math.random() * canvas.width,
    Math.random() * canvas.height,
    Math.random() * Math.PI * 2,
    26,
    9
  ).draw();
}

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  /* slower speed */
  if (Math.random() < 0.04) lightningStrike();

  requestAnimationFrame(animate);
}

animate();

/* ================= SITE JS (unchanged logic) ================= */

const sectionMap = {
  poetry: "Poetry",
  science: "Science",
  music: "Music",
  blog: "Blogs",
  about: "about"
};

const labels = document.querySelectorAll(".label");
const reader = document.getElementById("reader");
const content = document.getElementById("reader-content");
const back = document.getElementById("back");
const downloadBtn = document.getElementById("download");
const center = document.getElementById("center");

const originalPos = {};
labels.forEach(l => {
  originalPos[l.id] = { ...l.style };
  l.onclick = () => openSection(l);
});

function openSection(label) {
  center.style.display = "none";
  labels.forEach(l => { if (l !== label) l.style.display = "none"; });

  label.style.top = "16%";
  label.style.left = "50%";
  label.style.transform = "translateX(-50%) scale(1.4)";

  reader.style.display = "block";
  downloadBtn.style.display = "none";
  loadIndex(sectionMap[label.id]);
}

function loadIndex(folder) {
  fetch(`${folder}/index.json`)
    .then(r => r.json())
    .then(files => {
      content.innerHTML = "";
      Object.entries(files).forEach(([name, file], i) => {
        const d = document.createElement("div");
        d.className = "file-link";
        d.textContent = `${i + 1}. ${name}`;
        d.onclick = () => loadFile(folder, file);
        content.appendChild(d);
      });
    })
    .catch(() => content.innerHTML = "No content found.");
}

function loadFile(folder, file) {
  const path = `${folder}/${file}`;
  downloadBtn.style.display = "block";
  downloadBtn.onclick = () => window.open(path);
  fetch(path).then(r => r.text()).then(t => content.innerHTML = `<pre>${t}</pre>`);
}

back.onclick = () => {
  reader.style.display = "none";
  center.style.display = "block";
  labels.forEach(l => {
    l.style.display = "block";
    Object.assign(l.style, originalPos[l.id]);
  });
};
</script>

</body>
</html>




